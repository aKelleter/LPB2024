<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La portée des variables</title>
    <link rel="stylesheet" href="../styles.css">
    <script> let path = "chapter";</script> 
</head>
<body>
    <div class="container">
    <div class="screen">
    <nav></nav>
    <h1>La portée des variables</h1>
    <hr>
    <p> 
        Vous devez la règle suivante : <br>
        Une variable définie dans l’espace global d’un script va être accessible à travers tout le script, 
        même depuis une fonction. En revanche, une variable définie dans une fonction n’est accessible que 
        dans cette même fonction et ne peut pas être manipulée depuis l’espace global du script. 
        
        <br><br>
        Aller lire le code source ->
    </p>
    <script>
        console.log('START OF PORTEE DES VARIABLES ___________________________');

        // Déclarée en dehors d'un bloc cette variable est globale
        let txt = "Hello World";

        function conslog(){            
            let varLocale = "Variable à portée locale";
            console.log("Bienvenue dans la console du navigateur");    
            console.log(txt);
        }

        //console.log(varLocale);
        conslog();

        console.log('END OF PORTEE DES VARIABLES _____________________________');
    </script>
    

    <p id="p1"></p>
    <p id="p2"></p>
    <hr>
    <p id="p3"></p>
    <p id="p4"></p>

    
   <h2>Les différences de portée entre les variables déclarées avec var et avec let en JavaScript</h2>
    <p>
        En effet, lorsqu’on utilise la syntaxe <b>let</b> pour définir une variable à l’intérieur d’une fonction en 
        JavaScript, la variable va avoir une portée dite « de bloc » : la variable sera accessible dans le bloc 
        dans lequel elle a été définie et dans les blocs que le bloc contient. <br> <br>
        En revanche, en définissant une variable avec le mot clef <b>var</b> dans une fonction, la variable aura 
        une portée élargie puisque cette variable sera alors accessible dans tous les blocs de la fonction.         
    </p>

    
    <script>
        
        function portee1() {
            let a = 5; // variable locale au bloc
            var b = 20; // variable globale
            if (true) {
                let a = 10; // variable différente de a au-dessus : variable locale au bloc
                var b = 30; // même variable que b au-dessus : variable globale
                document.getElementById('p1').innerHTML = a + ' : a local au bloc'; // affiche 10
                document.getElementById('p2').innerHTML = b; // affiche 20
            }

            document.getElementById('p3').innerHTML = a; // affiche 5 la variable a n'a pas été modifiée dans le bloc if (variable locale donc différente)
            document.getElementById('p4').innerHTML = b; // affiche 30 la variable b a été modifiée dans le bloc if (variable globale donc identique)
        }

        portee1();
       
    </script>
    </div>
    </div>
    <footer></footer>
    <script src="../javascript.js"></script> 
</body>
</html>